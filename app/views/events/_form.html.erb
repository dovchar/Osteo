<%= stylesheet_link_tag params[:controller] %>
<%= javascript_include_tag "http://maps.google.com/maps/api/js?sensor=false" %>
<%= javascript_include_tag params[:controller] %>

<%= form_for(@event) do |f| %>
  <% if @event.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@event.errors.count, "error") %> prohibited this event from being saved:</h2>

      <ul>
        <% @event.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <table>
    <tr>
      <th class="field"><%= f.label :title, "What" %></th>
      <td class="field"><%= f.text_field :title, title: "Event title", autofocus: true %></td>
    </tr>

    <tr>
      <th class="field">When</th>
      <td class="field">
        <%= f.jquery_datetime_select :starts_at, :date_before_time, @event.starts_at,
                                     { title: "From date" }, { title: "From time" } %>
        to
        <%= f.jquery_datetime_select :ends_at, :time_before_date, @event.ends_at,
                                     { title: "Until date" }, { title: "Until time" } %>
      </td>
    </tr>

    <tr>
      <th></th>
      <td class="field"><%= f.check_box :all_day %><%= f.label :all_day %></td>
    </tr>

    <tr>
      <th class="field"><%= f.label :location, "Where" %></th>
      <td class="field"><%= f.text_field :location %></td>
    </tr>

    <tr>
      <th></th>
      <td class="field" id="map"></td>
    </tr>

    <tr>
      <th class="field" style="vertical-align: top"><%= f.label :description %></th>
      <td class="field"><%= f.text_area :description %></td>
    </tr>
  </table>

  <%= f.submit %>
  <%= link_to 'Back to calendar', calendar_path %>
<% end %>
